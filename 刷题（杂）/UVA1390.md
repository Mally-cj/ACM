题意

输入一个n个点，m条边的无向图G($n\leq 30，m\leq 1000$)。每次随机增加一条非自环的边（u，v）（加完后可以重边）。添加每条边的概率是相等的，求使G连通的期望操作次数。

分析

每个无向图看作一个状态，

用hash转换成第i个状态，记做dp[i]，这个状态下有a个连通体，这些联通体的边数分别是$k_i$

新连一条边，这条边重边的概率为
$$
\sum_{i=1}^{i=a}\frac{C_{k_i}^2}{C_n^2}=\frac{\sum_{i=1}^n k_i*(k_i-1)}{n(n-1)}
$$


